---
title: "File Storage"
description: "This module allows you to store/retrieve files that are automatically encrypted."
---

<Info>If SelfGuard was instantiated with a key pair, it will automatically encrypt files such that only the owner of the key pair will be able to access the file.</Info>

<Tip>If SelfGuard was instantiated with metamask, it will automatically encrypt files such that only the owner of the metamask account will be able to access the file. Furthermore, it will use <a href='https://litprotocol.com/' target="_blank" rel="noopener noreferrer">Lit Protocol</a> to store the encryption keys, ensuring the encryption keys can only be retrieved by the owner of the respective metamask account. </Tip>

## Encrypt File
This allows you to encrypt files and upload them to the cloud.
<ParamField path="file" required={true} type="File | string">
  If `sg` was instantiated with `selfguard-client` then `file` will be a javascript web File object. <br/>
  If `sg` was instantiated with `selfguard-node` then `file` will be the file_path of the file. 
</ParamField>

<ParamField path="callback" required={true} type="function">
  callback function that will be called with two paramaters `err` and `value` where `value` will equal the progress of the file upload & encryption.
</ParamField>
```js
await sg.encryptFile(file, callback);
```

## Decrypt File 
This allows you to decrypt a file that was uploaded with SelfGuard.
<ParamField path="file_id" required={true} type="string">
  The id of the file that was encrypted.
</ParamField>

<ParamField path="callback" required={true} type="function">
  callback function that will be called with two paramaters `err` and `value` where `value` will equal the progress of the file download & decryption.
</ParamField>
```js
await sg.decryptFile(file_id, callback);
```

## Get Files
This allows you to get the file names and ids of the uploaded files
```js
await sg.getFiles();
```